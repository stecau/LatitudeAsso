<!DOCTYPE html>
<html lang="en">
<head>
    <title>Latitude 2022 - Voyage parmi les étoiles</title>
    <meta charset="UTF-8">
    <meta name= "viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name= "author" content="Stéphane CAU">
    <meta name= "description" content="Retrouver le spectacle de danse 2022 : 'Voyage parmi les étoiles' de l'association Latitude en téléchargement ou visionnage">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Roboto:wght@400;700&family=Shrikhand&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="bloc-page"> <!-- div for the page size max 1920px -->
        <header class="header">
            <!-- Inital affiche avec danseuse (afficher par défaut)-->
            <div class="affiche">
                <div class="affiche__texture affiche__texture--anim">
                    <img src="images/texture-etoile.png" alt="ciel d'étoiles" />
                    <div></div>
                </div>
                <div class="affiche__danseuse">
                    <img src="images/danseuse-affiche.png" alt="danseuse" />
                </div>
                <div class="affiche__texte">
                    <div class="affiche__texte--rogne"><img src="images/lettres-creation2022.png" alt="texte creation 2022" /></div>
                    <div class="affiche__texte--rogne"><img src="images/lettres-creation2022.png" alt="texte creation 2022" /></div>
                    <div class="affiche__texte--rogne"><img src="images/lettres-Monique.png" alt="texte réalisation" /></div>
                    <div class="affiche__texte--rogne"><img src="images/lettres-Monique.png" alt="texte réalisation" /></div>
                    <img src="images/lettres-salle-concert.png" alt="texte salle concert" />
                    <img src="images/lettres-vendredi.png" alt="texte date vendredi" />
                    <img src="images/lettres-samedi.png" alt="texte date samedi" />
                </div>
            </div>
            <div class="affiche__titre">
                <div></div>
                <img src="images/lettres-voyage.png" alt="texte titre voyage" />
                <img src="images/lettres-parmi.png" alt="texte titre parmi" />
                <img src="images/lettres-les.png" alt="texte titre les" />
                <img src="images/lettres-etoile.png" alt="texte titre etoiles" />
            </div>
        </header>

        <!-- Creation of the 'Lecture' section -->
        <section class="lecture"> <!-- id for anchor to visionnage area -->
            <!-- Lecture article -->
            <article class="lecture__article" id="visionnage">
                <!-- Lecteur container -->
                <div class="lecteur-area">
                    <!-- Video bloc -->
                    <video controls controlslist="nodownload" id="video">
                        <source id="src_webm" src="" type="video/webm">
                        <source id="src_mp4" src="" type="video/mp4">
                        Sorry, your browser doesn't support embedded videos.
                    </video>
                </div>
                <div class="telechargement button">
                    <a href="" download="" id="download"><i class="fas fa-download"></i>Téléchargement</a>
                </div>
            </article>

            <!-- aside -->
            <aside class="lecture__aside">
                <!-- aside title -->
                <h2>
                    Sélection du film
                </h2>
                <div class="container">
                    <!-- 1st button : Spectacle de Vendredi (tout le monde) -->
                    <div class="button button--spectacle" id="btn_vendredi_large">
                        <i class="fas fa-play-circle"></i>
                        <div>
                            <span>- Vendredi -</span>
                            <span class="smaller">plans larges</span>
                        </div>
                    </div>
                    <!-- 2nd button : Spectacle de Vendredi -->
                    <div class="button button--spectacle" id="btn_vendredi_serre">
                        <i class="fas fa-play-circle"></i>
                        <div>
                            <span>- Vendredi -</span>
                            <span class="smaller">plans larges & serrés</span>
                        </div>
                    </div>
                    <!-- 3rd button : Spectacle de Samedi (tout le monde) -->
                    <div class="button button--spectacle" id="btn_samedi_large">
                        <i class="fas fa-play-circle"></i>
                        <div>
                            <span>- Samedi -</span>
                            <span class="smaller">plans larges</span>
                        </div>
                    </div>
                    <!-- 4th button : Spectacle de Samedi -->
                    <div class="button button--spectacle" id="btn_samedi_serre">
                        <i class="fas fa-play-circle"></i>
                        <div>
                            <span>- Samedi -</span>
                            <span class="smaller">plans larges & serrés</span>
                        </div>
                    </div>
                </div>
            </aside>
        </section>


        <!-- Creation of the Footer -->
        <footer class="footer" id="contact">
            <div class="footer__block">
                <h2>Latitude</h2>
                <ul class="footer-list">
                    <li><a class="footer-list__link" href="#contact"><i class="fas fa-map-marked-alt"></i>11400 Castelnaudary</a></li>
                    <li><a class="footer-list__link" href="https://www.facebook.com/Latitude-Danse-contemporaine-975312699245086/"><i class="fab fa-facebook"></i></i>Page Facebook</a></li>
                    <li><a class="footer-list__link" href="#tel:+33XXXXXXXXX"><i class="fas fa-phone"></i>Téléphone</a></li>
                    <li><a class="footer-list__link" href="mailto:contact@ohmyfood.com?subject=Renseignement(s)&body=Votre&nbsp;message&nbsp;ici"><i class="fas fa-at"></i>Courriel</a></li>
                </ul>
            </div>
            <div class="footer__block">
                <h2>Culture, images & gestes</h2>
                <ul class="footer-list">
                    <li><a class="footer-list__link" href="#contact"><i class="fas fa-map-marked-alt"></i>11150 Bram</a></li>
                    <li><a class="footer-list__link" href="https://www.facebook.com/cultureimagesetgestes/"><i class="fab fa-facebook"></i></i>Page Facebook</a></li>
                    <li><a class="footer-list__link" href="#tel:+33XXXXXXXXX"><i class="fas fa-phone"></i>Téléphone</a></li>
                    <li><a class="footer-list__link" href="mailto:cigbram@gmail.com?subject=Renseignement(s)&body=Votre&nbsp;message&nbsp;ici"><i class="fas fa-at"></i>Courriel</a></li>
                </ul>
            </div>
            <div class="footer__block">
                <h2>LIZZART Production</h2>
                <ul class="footer-list">
                    <li><a class="footer-list__link" href="#contact"><i class="fas fa-map-marked-alt"></i>Bretagne et Occitanie</a></li>
                    <li><a class="footer-list__link" href="https://www.lizzart-production.com/"><i class="fas fa-globe"></i>Site Internet</a></li>
                    <li><a class="footer-list__link" href="#tel:+33XXXXXXXXX"><i class="fas fa-phone"></i>Téléphone</a></li>
                    <li><a class="footer-list__link" href="mailto:eliza.chohadzhieva@lizzart-production.com?subject=Renseignement(s)&body=Votre&nbsp;message&nbsp;ici"><i class="fas fa-at"></i>Courriel</a></li>
                </ul>
            </div>
        </footer>
    </div>

    <!-- Script pour affichage film adéquat dans zone de Visionnage -->
    <script>
        let btn_vendredi_large = document.getElementById("btn_vendredi_large");
        let btn_vendredi_serre = document.getElementById("btn_vendredi_serre");
        let btn_samedi_large = document.getElementById("btn_samedi_large");
        let btn_samedi_serre = document.getElementById("btn_samedi_serre");
        
        let ecran = document.getElementById("visionnage");
        var player = document.getElementById('video');
        var mp4Vid = document.getElementById('src_mp4');
        var webmVid = document.getElementById('src_webm');
        var download = document.getElementById('download');

        ecran.style.height = "0";

        btn_vendredi_large.addEventListener("click", () => {
            changeSource("videos/film_presentation_de_saison_21_22_new.mp4");
            event.preventDefault();
        })

        btn_vendredi_serre.addEventListener("click", () => {
            changeSource("videos/Enregistrement_ecran_2022-05-10_a_23.46.23.mov");
        })

        btn_samedi_large.addEventListener("click", () => {
            changeSource("videos/Voyage_Intro_2.mp4");
        })

        btn_samedi_serre.addEventListener("click", () => {
            changeSource("videos/Voyage_VisagesChoregraphes.mp4");
        })

        function changeSource(url_src) {
            player.pause();
            download.setAttribute('href', url_src);
            download.setAttribute('download',url_src);
            if(getComputedStyle(ecran).height != "0" && mp4Vid.getAttribute('src') == url_src ){
                ecran.style.height = "0"
                mp4Vid.src = "";
                src_webm.src = "";
            } else {
                mp4Vid.src = url_src;
                src_webm.src = "";
                ecran.style.height = calcul_height() + "px"
                player.load();
                // player.play();
            }
        }

        function calcul_height() {
            let vw = window.innerWidth;
            let vh = window.innerHeight;
            let telechargement = document.querySelector('.telechargement');
            let offsetHeight = telechargement.offsetHeight;
            let style = getComputedStyle(telechargement);
            let topMargin = parseInt(style.marginTop);
            let botMargin = parseInt(style.marginBottom);
            let telechargement_height = offsetHeight + topMargin + botMargin;
            let video_height = vw * ( 28.125 / 100 );
            return telechargement_height + video_height
        }
    </script>
</body>
</html>